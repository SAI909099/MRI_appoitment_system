{% extends "base.html" %}
{% block title %}Moliyaviy hisobot{% endblock %}
{% block content %}
    <h1>Moliyaviy hisobot</h1>
    <form method="get">
        <input type="date" name="date" value="{{ request.GET.date|default:'today' }}">
        <button type="submit">Filter</button>
        <input type="text" name="search" placeholder="Qidirish..." value="{{ request.GET.search }}">
    </form>
    <h2>Chiqimlar</h2>
    <table>
        <tr>
            <th>Nomi</th>
            <th>Miqdor</th>
            <th>Sana</th>
        </tr>
        {% for expense in expenses %}
        <tr>
            <td>{{ expense.title }}</td>
            <td>{{ expense.amount }} so'm</td>
            <td>{{ expense.date }}</td>
        </tr>
        {% endfor %}
    </table>
    <h2>Hisobot</h2>
    <p>Kirimi: {{ income }} so'm</p>
    <p>Chiqimi: {{ outcome }} so'm</p>
    <p>Balans: {{ balance }} so'm</p>
    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <input type="text" name="title" placeholder="Chiqim nomi" required>
        </div>
        <div class="form-group">
            <input type="number" step="0.01" name="amount" placeholder="Miqdor" required>
        </div>
        <div class="form-group">
            <textarea name="note" placeholder="Eslatma"></textarea>
        </div>
        <button type="submit">Qoâ€˜shish</button>
    </form>
{% endblock %}